# nodyn

A Rust proc macro to generate a enum wrapper for a set of types.

`nodyn::wrap!` creates an enum for a set of types and generates method
and trait implementations. It can also generate collection types for
the created `enum`.

## Generated code

### Variant types and names

Only Path, Reference, Array, Slice and Tuple types are allowed. The
variant names are created from the full path given converted
to camel case. Reference types have 'Ref', Arrays 'Array' + length
and Slices 'Slice' added.

```rust
nodyn::wrap!{
   #[derive(Debug)]
   pub Foo<'a> { i32, String, (u8, u8, u16), [bool;2], &'a str }
}
```

generates

```rust
#[derive(Debug)]
pub enum Foo {
    I32(i32),
    String(String),
    U8U8U16Tuple((u8,u8,u16)),
    BoolArray4,
    StrRef(&'a str),
}

## Automatic generated trait implementations

1. `From<T> for Wrapper` for all variant types
2. `TryFrom<Wrapper> for T` automatic for all non reference types

   When `T` has a `From<O>` implementation then you can add the
   attribute `#[into(T)]` to `O` and it will return a `Some(T)` for it.

## Function delegation

When all types included implement a method, a delegation method
can be generated by including the method definition with the
block replaced by a semicolon in `impl`.

## Trait implementation

When all types included implement a trait. Delegation functions for


## Generating

- **`enum_dispatch`**
    - uses procedural macros
    - automatic `From` & `TryInto`
    - crate defined traits
    - only generate trait implementations for traits in scope
      in a very conveniant way.
- **`sum_type`**
    - declaritative macros
    - automatic `From` & `TryFrom`
    - no lifetimes
    - does not generate method or trait implementations



License: MIT
